/* Оптимизированные стили производительности */

/* Предотвращение forced reflow */
.transform-gpu {
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* Оптимизация для изображений */
img {
  image-rendering: optimizeQuality;
  content-visibility: auto;
}

/* Оптимизация для карточек */
.card-optimized {
  contain: layout style paint;
  content-visibility: auto;
  transform: translateZ(0);
}

/* Стабильные анимации без reflow */
.stable-transition {
  transition: transform 0.2s ease-out, opacity 0.2s ease-out;
  will-change: transform, opacity;
}

/* Оптимизация для элементов вне viewport */
.lazy-content {
  content-visibility: auto;
  contain-intrinsic-size: 200px;
}

/* Предотвращение мигания при загрузке */
.no-flash {
  opacity: 0;
  transition: opacity 0.3s ease-out;
}

.no-flash.loaded {
  opacity: 1;
}

/* Мобильные оптимизации */
@media (hover: none) and (pointer: coarse) {
  .stable-transition {
    transition: none;
    will-change: auto;
  }

  /* Предотвращаем мигание на мобильных */
  .mobile-optimized {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
}

/* Оптимизированные hover эффекты только для десктопа */
@media (hover: hover) and (pointer: fine) {
  .desktop-hover {
    transition: transform 0.15s ease-out;
  }

  .desktop-hover:hover {
    transform: translateY(-1px);
  }
}